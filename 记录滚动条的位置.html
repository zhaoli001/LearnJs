<!DOCTYPE html>
<html lang="en">
    <head>
        <title>记录滚动条的位置</title>
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
        <script type="text/javascript" src="http://www.ijquery.cn/js/jquery-1.7.2.min.js"></script>
    </head>
    <style type="text/css">
        /* *{
            margin:0;
            padding:0;
        } */
        html,body{
            width: 100%;
            height: 100%;
        }
        .container{
            padding:5px;
        }
        ol li{
            line-height: 25px;
        }
    </style>
    <body>
        <div class="container">
            <header class="header">
                
            </header>
            <section class="content">
                <ol>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li><button class="btn">点击</button></li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>
                    <li>记录滚动条的位置</li>

                </ol>
            </section>
            <footer class="footer">
                
            </footer>
        </div>
    </body>
</html>
<script type="text/javascript">
    /*
        *监听页面的滚动条的状态
        *将滚动条的位置保存在本地
     */
    var ls = window.localStorage;
    //先获取本地滚动条的位置
        if(ls.getItem("sTop")){
            var oldStop = ls.getItem("sTop");
            //获取出来的值设置页面当前滚动条的位置
            if(document.documentElement.scrollTop){
                document.documentElement.scrollTop = oldStop;
            }else{
                document.body.scrollTop = oldStop;
            }
        }else{
            console.log("未能找到")
        }

    window.addEventListener("scroll",function(){
        //滚动式获取页面的滚动位置
        var sTop = document.documentElement.scrollTop || document.body.scrollTop;
       ls.setItem("sTop",sTop)
    },false)

    
document.querySelectorAll(".btn")[0].addEventListener("click",function(){
    location.href="index.html";
},false)
        
        
    
</script>